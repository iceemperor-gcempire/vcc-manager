# VCC Manager 테스트 체크리스트

이 문서는 개발 과정에서 발생한 이슈들을 바탕으로 작성된 테스트 시나리오입니다.
배포 전 또는 주요 기능 변경 후 아래 항목들을 테스트해주세요.

---

## 1. 사용자 설정 (Settings)

### 1.1 설정 페이지 접근
- [ ] 사이드바에서 "설정" 메뉴가 표시되는지 확인
- [ ] 설정 페이지가 정상적으로 로드되는지 확인
- [ ] 기존 설정값이 올바르게 표시되는지 확인

### 1.2 삭제 동작 설정
- [ ] "작업 히스토리 삭제 시 연관 컨텐츠도 같이 삭제" 스위치 동작 확인
  - OFF 상태: 히스토리만 삭제, 이미지/동영상 보존
  - ON 상태: 확인 창 표시 후 함께 삭제
- [ ] "컨텐츠 삭제 시 작업 히스토리도 같이 삭제" 스위치 동작 확인
  - OFF 상태: 컨텐츠만 삭제, 히스토리 보존
  - ON 상태: 확인 창 표시 후 함께 삭제

### 1.3 계속하기 설정
- [ ] "계속하기 시 무조건 랜덤 시드 사용" 스위치 동작 확인
  - OFF 상태: 이전 작업의 시드값 유지
  - ON 상태: 랜덤 시드 스위치가 자동으로 ON

### 1.4 히스토리 삭제 후 컨텐츠 동작 (중요!)
- [ ] 히스토리 삭제 후 보존된 이미지가 "내 이미지"에 표시되는지 확인
- [ ] **보존된 이미지 다운로드가 정상 작동하는지 확인**
- [ ] 보존된 이미지 편집(태그 수정 등)이 가능한지 확인
- [ ] 보존된 이미지 삭제가 가능한지 확인

---

## 2. 작업판 관리 (관리자)

### 2.1 작업판 활성화/비활성화
- [ ] 작업판 메뉴에서 "비활성화" 옵션이 표시되는지 확인
- [ ] 비활성화된 작업판이 시각적으로 구분되는지 확인 (흐린 색상, 점선 테두리)
- [ ] 비활성화된 작업판에 "비활성" 칩이 표시되는지 확인
- [ ] 비활성화된 작업판을 다시 "활성화"할 수 있는지 확인
- [ ] 일반 사용자에게 비활성화된 작업판이 표시되지 않는지 확인

### 2.2 작업판 삭제
- [ ] 삭제 확인 창에 "완전히 삭제" 경고 메시지가 표시되는지 확인
- [ ] 삭제 후 작업판이 DB에서 완전히 제거되는지 확인
- [ ] 진행 중인 작업이 있는 작업판은 삭제할 수 없는지 확인

### 2.3 서버 설정
- [ ] 서버 수정 시 API 키 입력란이 비어있으면 기존 API 키가 유지되는지 확인
- [ ] 새 API 키를 입력하면 정상적으로 업데이트되는지 확인

---

## 3. 이미지 생성 작업판

### 3.1 이미지 업로드 프리뷰
- [ ] 참조 이미지 업로드 시 프리뷰가 crop 없이 전체 표시되는지 확인
- [ ] 프리뷰 크기가 적절한지 확인 (약 150px 높이)

### 3.2 계속하기 기능
- [ ] 작업 히스토리에서 "계속하기" 클릭 시 작업판으로 이동하는지 확인
- [ ] 이전 작업의 프롬프트, 설정값이 올바르게 복원되는지 확인
- [ ] 사용자 설정에 따라 랜덤 시드 스위치가 설정되는지 확인

### 3.3 프롬프트 생성기 연동
- [ ] 프롬프트 작업판의 결과를 이미지 작업판에 적용할 수 있는지 확인

---

## 4. 작업 히스토리

### 4.1 히스토리 삭제
- [ ] 삭제 확인 창이 사용자 설정에 따라 다르게 표시되는지 확인
- [ ] 삭제 후 목록이 즉시 갱신되는지 확인

### 4.2 결과물 보기
- [ ] 생성된 이미지가 정상적으로 표시되는지 확인
- [ ] 생성된 동영상이 정상적으로 재생되는지 확인
- [ ] 다운로드 기능이 정상 작동하는지 확인

---

## 5. 내 이미지/동영상

### 5.1 이미지 목록
- [ ] 생성된 이미지가 올바르게 표시되는지 확인
- [ ] 업로드된 이미지가 올바르게 표시되는지 확인
- [ ] 생성된 동영상이 올바르게 표시되는지 확인

### 5.2 이미지/동영상 삭제
- [ ] 삭제 확인 창이 사용자 설정에 따라 다르게 표시되는지 확인
- [ ] 삭제 후 목록이 즉시 갱신되는지 확인

### 5.3 다운로드
- [ ] 이미지 다운로드가 정상 작동하는지 확인
- [ ] 동영상 다운로드가 정상 작동하는지 확인
- [ ] iOS Safari에서 다운로드 안내가 적절히 표시되는지 확인

---

## 6. 관리자 대시보드

### 6.1 개인정보 보호
- [ ] "최근 작업" 섹션이 제거되었는지 확인
- [ ] 다른 사용자의 작업 내역이 노출되지 않는지 확인

---

## 7. 배포 및 환경 설정

### 7.1 deploy-prod.sh
- [ ] `.env.production` 파일의 환경 변수가 빌드 시 올바르게 적용되는지 확인
- [ ] `REACT_APP_API_URL` 등 프론트엔드 빌드 변수가 올바르게 설정되는지 확인

### 7.2 환경 변수 확인
- [ ] 백엔드 환경 변수가 `.env.production`에서 로드되는지 확인
- [ ] 프론트엔드 빌드 시 환경 변수가 적용되는지 확인

---

## 8. 알려진 이슈 및 주의사항

### 8.1 모델 스키마 변경
- `GeneratedImage`, `GeneratedVideo` 모델의 `jobId` 필드가 `required: false`로 변경됨
- 히스토리 삭제 시 컨텐츠 보존을 위한 변경사항

### 8.2 작업판 삭제 vs 비활성화
- **삭제**: DB에서 완전히 제거 (복구 불가)
- **비활성화**: 일반 사용자에게만 숨김 (복구 가능)

### 8.3 캐시 관련
- 로그인 계정 변경 시 React Query 캐시가 적절히 초기화되는지 확인 필요

---

## 9. 회귀 테스트 체크리스트

배포 전 아래 핵심 기능들이 정상 작동하는지 확인:

- [ ] 로그인/로그아웃
- [ ] 작업판 목록 조회
- [ ] 이미지 생성 작업 실행
- [ ] 작업 히스토리 조회
- [ ] 이미지 다운로드
- [ ] 동영상 다운로드
- [ ] 사용자 설정 저장/불러오기
- [ ] 관리자 작업판 관리

---

## 버전 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2026-02-02 | 초기 작성 - Issue #29, #32~#38 기반 |
