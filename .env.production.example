# Production Environment Configuration

# Server Configuration
NODE_ENV=production
# Internal container port (default: 3000). Do not change unless modifying Dockerfile.
PORT=3000

# Docker Host Port Configuration
# These ports will be exposed on your host machine
FRONTEND_PORT=80
BACKEND_PORT=3000
# MONGODB_PORT & REDIS_PORT are not exposed by default in production for security

# Database Configuration (Internal)
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
MONGO_DB=vcc-manager
MONGODB_URI=mongodb://admin:CHANGE_THIS_TO_SECURE_PASSWORD@mongodb:27017/vcc-manager?authSource=admin

# Redis Configuration (Internal)
REDIS_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
REDIS_URL=redis://:CHANGE_THIS_TO_SECURE_PASSWORD@redis:6379

# Security Configuration
SESSION_SECRET=CHANGE_THIS_TO_SECURE_32_CHAR_SECRET
JWT_SECRET=CHANGE_THIS_TO_SECURE_32_CHAR_SECRET
JWT_EXPIRES_IN=7d
ADMIN_EMAILS=admin@yourdomain.com,admin2@yourdomain.com

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your_production_google_client_id
GOOGLE_CLIENT_SECRET=your_production_google_client_secret
GOOGLE_CALLBACK_URL=https://yourdomain.com/auth/google/callback

# File Storage Configuration
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10485760

# Backup Configuration
BACKUP_PATH=/app/backups
# 64자리 hex 문자열 (32바이트 AES-256 키). openssl rand -hex 32 로 생성 가능
# 중요: 이 키를 잃어버리면 암호화된 API 키를 복구할 수 없습니다
BACKUP_ENCRYPTION_KEY=CHANGE_THIS_TO_64_HEX_CHARS_KEY

# CORS Configuration
FRONTEND_URL=https://yourdomain.com

# SMTP Configuration (for password reset emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=VCC Manager

# Signed URL Configuration
# SIGNED_URL_EXPIRY=3600  # Signed URL expiry in seconds (default: 3600 = 1 hour)

# MCP Server Configuration
# MCP server provides AI agent (Claude Desktop/Code) integration
MCP_PORT=3100
# HTTP mode (Docker): Clients authenticate via Bearer token (their VCC API Key).
# No server-side API key configuration needed.
# stdio mode only: Set VCC_API_KEY for local MCP server use.
# VCC_API_KEY=vcc_xxxxxxxxxxxxxxxx
# VCC_PUBLIC_URL: public URL for signed media URLs in MCP responses (optional)
# When set, MCP download_result returns signed URLs alongside base64 data.
# Example: https://yourdomain.com
# VCC_PUBLIC_URL=

# Frontend Build Configuration (Required)
# Specifies where the frontend should send API requests
REACT_APP_API_URL=/api